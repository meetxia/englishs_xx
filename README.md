# 爽文带背单词卡片生成器 (V3.0 专业版)

这是一个基于AI的英语单词学习工具，通过生成有趣的中文故事来帮助用户记忆英语单词。项目采用全栈架构，提供前后端分离的完整解决方案。

## 🌟 功能特点

### 📚 多种学习模式
- **模式一：爽文带背** - 将英语单词融入中文故事中，寓教于乐
- **模式二：中英对照** - 带有中文释义的故事模式，便于理解
- **模式三：单词列表** - 展示所有单词的详细信息（发音、词性、释义）
- **模式四：填空测试** - 通过填空练习巩固记忆，支持反馈提示

### 🎯 智能词库管理
- **预设词库**：小学词汇、四级词汇、六级词汇、考研词汇、托福词汇、雅思词汇、高中词汇
- **自定义词库**：支持用户输入自定义单词和批量导入
- **分类管理**：完整的词库分类系统，便于管理和筛选
- **数据库支持**：基于SQLite的本地数据库存储

### 🎨 丰富主题风格
- 默认(爽文)、玄幻修仙、都市言情、科幻废土、悬疑推理、霸道总裁等多种风格
- 可自定义故事字数（100-2000字）
- 支持主题模板的增删改查

### 🔊 音频功能
- **完整音频库**：包含数千个单词的英式和美式发音
- **音频格式**：支持GB（英式）和US（美式）两种发音
- **音频测试**：提供专门的音频测试页面

### 🎛️ 后台管理系统
- **词库管理**：增删改查单词和分类
- **主题管理**：自定义故事生成模板
- **API配置**：支持多种AI服务（阿里云千问、DeepSeek等）
- **系统设置**：灵活的配置管理

## 🛠️ 技术栈

### 前端技术
- **HTML5、CSS3、JavaScript** - 基础前端技术
- **Tailwind CSS** - 现代化UI框架
- **html2canvas** - 卡片图片生成
- **响应式设计** - 支持移动端和桌面端

### 后端技术
- **Node.js** - 服务器运行环境
- **Express.js** - Web应用框架
- **SQLite3** - 轻量级数据库
- **Morgan** - HTTP请求日志
- **CORS** - 跨域资源共享
- **Multer** - 文件上传处理

### AI集成
- **阿里云千问API** - 主要AI故事生成服务
- **DeepSeek API** - 备用AI服务
- **自适应API切换** - 多服务容错机制

## 📦 安装与部署

### 环境要求
- Node.js 14.0+ 
- npm 6.0+
- 操作系统：Windows、macOS、Linux

### 快速开始

1. **克隆项目**
   ```bash
   git clone <repository-url>
   cd englishs_xx
   ```

2. **安装依赖**
   ```bash
   npm install
   ```

3. **启动服务**
   ```bash
   # 生产环境
   npm start
   
   # 开发环境（自动重启）
npm run dev
   ```

4. **访问应用**
   - 主应用：http://localhost:3000
   - 管理后台：http://localhost:3000/admin.html
   - 音频测试：http://localhost:3000/audio-test-oxford.html

### 配置说明

项目支持多种AI服务配置，默认包含：
- 阿里云千问API
- DeepSeek API

可通过管理后台进行API密钥配置和切换。

## 📁 项目结构

```
englishs_xx/
├── 📁 data/                    # 数据文件
│   ├── words.db               # SQLite数据库
│   ├── 📁 cihui/              # 词汇CSV文件
│   ├── 📁 yinpin/             # 音频文件(GB/US发音)
│   └── 📁 img/                # 功能演示图片
├── 📁 public/                 # 前端静态文件
│   ├── index.html             # 主应用页面
│   ├── admin.html             # 管理后台页面
│   ├── audio-test-oxford.html # 音频测试页面
│   ├── 📁 css/
│   │   └── styles.css         # 主样式文件
│   ├── 📁 js/
│   │   ├── main.js            # 主应用逻辑
│   │   └── admin.js           # 管理后台逻辑
│   └── 📁 audio/              # 音频文件目录
├── 📁 routes/
│   └── api.js                 # API路由定义
├── server.js                  # Express服务器入口
├── db.js                      # 数据库连接和操作
├── package.json               # 项目配置和依赖
├── README.md                  # 项目文档
├── 修改记录.md                # 版本更新记录
└── 📁 .specstory/             # 开发历史记录
```

## 🚀 使用指南

### 基本使用流程

1. **选择词库**
   - 预设词库：小学词汇、四级词汇、六级词汇、考研词汇、托福词汇、雅思词汇、高中词汇
   - 自定义输入：手动输入单词，支持批量导入

2. **配置参数**
   - 选择故事主题：爽文、玄幻修仙、都市言情、科幻废土等
   - 调整故事字数：100-2000字范围
   - 设置单词数量：建议5-15个单词效果最佳

3. **生成学习卡片**
   - 点击"AI 生成故事 & 学习卡片"按钮
   - 系统自动调用AI服务生成四种学习模式

4. **多模式学习**
   - **爽文带背**：沉浸式故事学习
   - **中英对照**：理解式学习
   - **单词列表**：系统性复习
   - **填空测试**：巩固记忆

5. **交互功能**
   - 🔊 点击单词听发音（英式/美式）
   - 📷 下载卡片为图片
   - ✅ 填空测试实时反馈

### 管理后台使用

访问 `/admin.html` 进入管理界面：

1. **词库管理**
   - 添加、编辑、删除单词
   - 管理词库分类
   - 批量导入词汇

2. **主题管理**
   - 自定义故事生成模板
   - 设置主题描述和提示词
   - 启用/禁用主题

3. **系统设置**
   - 配置AI服务API密钥
   - 切换AI服务提供商
   - 系统参数调整

## 🎵 音频功能

项目包含完整的英语单词发音库：
- **音频格式**：MP3格式，高质量音频
- **发音版本**：GB（英式）和US（美式）
- **单词覆盖**：涵盖各级别词汇
- **测试页面**：专门的音频功能测试

## 🔧 API接口文档

### 核心接口

| 接口 | 方法 | 描述 |
|------|------|------|
| `/api/health` | GET | 健康检查 |
| `/api/words` | GET | 获取所有单词 |
| `/api/words/categories` | GET | 获取单词分类 |
| `/api/words/by-category/:id` | GET | 按分类获取单词 |
| `/api/words` | POST | 添加新单词 |
| `/api/generate-story` | POST | 生成AI故事 |
| `/api/settings` | GET/POST | 系统设置管理 |

## 🎯 最佳实践

### 学习建议
- **单词数量**：每次学习5-15个单词效果最佳
- **故事长度**：建议500-1000字，既不会太长影响专注度，也不会太短缺乏语境
- **学习模式**：建议按顺序使用四种模式，从故事理解到填空测试
- **复习频率**：建议间隔1-3天复习，巩固记忆效果

### 性能优化
- 项目采用本地SQLite数据库，响应速度快
- 静态资源缓存，减少重复加载
- AI接口支持多服务切换，提高可靠性
- 音频文件本地存储，避免网络延迟

## ⚠️ 注意事项

### 使用限制
- 需要联网使用AI故事生成功能
- 音频播放需要现代浏览器支持
- 建议使用Chrome、Firefox、Safari等主流浏览器

### 故障排除
- 如果AI生成失败，请检查网络连接和API配置
- 音频无法播放请检查浏览器音频权限
- 管理后台无法访问请确认服务器正常运行

### 数据安全
- 所有单词数据存储在本地SQLite数据库
- API密钥加密存储，保护用户隐私
- 支持数据备份和恢复功能

## 📈 版本历史

### V3.0 (当前版本)
- ✅ 完整的全栈架构实现
- ✅ 多AI服务支持
- ✅ 完整音频库集成
- ✅ 后台管理系统
- ✅ 响应式设计优化

### V2.x
- ✅ 添加填空测试模式
- ✅ 优化用户界面
- ✅ 增加预设词库

### V1.x
- ✅ 基础故事生成功能
- ✅ 四种学习模式
- ✅ 单词发音功能

详细更新记录请查看 `修改记录.md` 文件。

## 🤝 贡献指南

欢迎贡献代码、报告问题或提出改进建议：

1. Fork 本项目
2. 创建特性分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 创建 Pull Request

## 📄 许可证

本项目采用 MIT 许可证。详细信息请查看 LICENSE 文件。

## 📞 联系方式

如有问题或建议，请通过以下方式联系：
- 提交 Issue
- 创建 Pull Request
- 或通过项目相关渠道反馈

---

**开发团队** | **版本** V3.0 | **最后更新** 2024年7月 