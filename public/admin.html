<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>爽文带背单词 - 后台管理系统</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .sidebar-item.active {
            background-color: rgba(59, 130, 246, 0.1);
            border-left: 3px solid #3b82f6;
        }
        .tab-content {
            display: none;
        }
        .tab-content.active {
            display: block;
        }
    </style>
</head>
<body class="bg-gray-100">
    <div class="flex h-screen">
        <!-- 侧边栏 -->
        <div class="w-64 bg-white shadow-md">
            <div class="p-4 border-b">
                <h1 class="text-xl font-bold text-gray-800">爽文带背单词</h1>
                <p class="text-sm text-gray-600">后台管理系统</p>
            </div>
            <nav class="mt-4">
                <div class="px-4 py-2 text-xs font-semibold text-gray-500">主菜单</div>
                <a href="#dashboard" class="sidebar-item flex items-center px-4 py-3 text-gray-700 hover:bg-blue-50 active">
                    <i class="fas fa-tachometer-alt w-5 mr-2"></i>
                    <span>仪表盘</span>
                </a>
                
                <div class="px-4 py-2 text-xs font-semibold text-gray-500 mt-4">数据管理</div>
                <a href="#word-data" class="sidebar-item flex items-center px-4 py-3 text-gray-700 hover:bg-blue-50">
                    <i class="fas fa-book w-5 mr-2"></i>
                    <span>单词数据</span>
                </a>
                <a href="#theme-templates" class="sidebar-item flex items-center px-4 py-3 text-gray-700 hover:bg-blue-50">
                    <i class="fas fa-file-alt w-5 mr-2"></i>
                    <span>故事主题模板</span>
                </a>
                
                <div class="px-4 py-2 text-xs font-semibold text-gray-500 mt-4">系统</div>
                <a href="#import-data" class="sidebar-item flex items-center px-4 py-3 text-gray-700 hover:bg-blue-50">
                    <i class="fas fa-file-import w-5 mr-2"></i>
                    <span>数据导入</span>
                </a>
                <a href="#settings" class="sidebar-item flex items-center px-4 py-3 text-gray-700 hover:bg-blue-50">
                    <i class="fas fa-cog w-5 mr-2"></i>
                    <span>系统设置</span>
                </a>
                <a href="/" target="_blank" class="sidebar-item flex items-center px-4 py-3 text-gray-700 hover:bg-blue-50">
                    <i class="fas fa-external-link-alt w-5 mr-2"></i>
                    <span>访问前台</span>
                </a>
            </nav>
        </div>

        <!-- 主内容区 -->
        <div class="flex-1 flex flex-col overflow-hidden">
            <!-- 顶部导航栏 -->
            <header class="bg-white shadow-sm">
                <div class="flex items-center justify-between p-4">
                    <div class="flex items-center">
                        <button id="sidebar-toggle" class="mr-4 text-gray-600 focus:outline-none lg:hidden">
                            <i class="fas fa-bars"></i>
                        </button>
                        <h2 id="current-section-title" class="text-lg font-medium">仪表盘</h2>
                    </div>
                    <div class="flex items-center">
                        <span class="text-sm text-gray-600 mr-4">管理员</span>
                        <button class="text-gray-600 hover:text-gray-800 focus:outline-none">
                            <i class="fas fa-sign-out-alt"></i>
                        </button>
                    </div>
                </div>
            </header>

            <!-- 内容区 -->
            <main class="flex-1 overflow-y-auto p-4 bg-gray-100">
                <!-- 仪表盘内容 -->
                <div id="dashboard-content" class="tab-content active">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                        <div class="bg-white rounded-lg shadow p-4">
                            <div class="flex items-center">
                                <div class="p-3 rounded-full bg-blue-100 text-blue-600">
                                    <i class="fas fa-book text-xl"></i>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm text-gray-500">单词总数</p>
                                    <p class="text-lg font-semibold" id="total-words-count">加载中...</p>
                                </div>
                            </div>
                        </div>
                        <div class="bg-white rounded-lg shadow p-4">
                            <div class="flex items-center">
                                <div class="p-3 rounded-full bg-green-100 text-green-600">
                                    <i class="fas fa-layer-group text-xl"></i>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm text-gray-500">词库分类数</p>
                                    <p class="text-lg font-semibold" id="total-categories-count">加载中...</p>
                                </div>
                            </div>
                        </div>
                        <div class="bg-white rounded-lg shadow p-4">
                            <div class="flex items-center">
                                <div class="p-3 rounded-full bg-purple-100 text-purple-600">
                                    <i class="fas fa-file-alt text-xl"></i>
                                </div>
                                <div class="ml-4">
                                    <p class="text-sm text-gray-500">故事主题模板数</p>
                                    <p class="text-lg font-semibold" id="total-templates-count">加载中...</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-lg shadow p-6">
                        <h3 class="text-lg font-semibold mb-4">系统信息</h3>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <p class="text-sm text-gray-500 mb-1">系统版本</p>
                                <p class="font-medium">爽文带背单词 v1.0</p>
                            </div>
                            <div>
                                <p class="text-sm text-gray-500 mb-1">最近更新</p>
                                <p class="font-medium" id="last-update-time">2023-06-15</p>
                            </div>
                            <div>
                                <p class="text-sm text-gray-500 mb-1">API状态</p>
                                <p class="font-medium" id="api-status">检查中...</p>
                            </div>
                            <div>
                                <p class="text-sm text-gray-500 mb-1">数据库状态</p>
                                <p class="font-medium" id="db-status">检查中...</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 单词数据管理内容 -->
                <div id="word-data-content" class="tab-content">
                    <div class="bg-white rounded-lg shadow p-6 mb-6">
                        <div class="flex justify-between mb-5">
                            <h2 class="text-xl font-semibold">词库分类管理</h2>
                            <button id="add-category-btn" class="bg-green-500 hover:bg-green-700 text-white font-bold py-1 px-3 rounded text-sm">
                                <i class="fas fa-plus mr-1"></i> 添加新分类
                            </button>
                        </div>
                        
                        <div class="overflow-x-auto">
                            <table class="min-w-full bg-white">
                                <thead class="bg-gray-100">
                                    <tr>
                                        <th class="py-2 px-4 border-b text-left">ID</th>
                                        <th class="py-2 px-4 border-b text-left">名称</th>
                                        <th class="py-2 px-4 border-b text-left">描述</th>
                                        <th class="py-2 px-4 border-b text-left">操作</th>
                                    </tr>
                                </thead>
                                <tbody id="categories-table-body">
                                    <!-- 分类数据将在这里动态加载 -->
                                    <tr>
                                        <td colspan="4" class="py-4 text-center text-gray-500">加载中...</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div class="bg-white rounded-lg shadow p-6">
                        <div class="flex justify-between mb-5">
                            <h2 class="text-xl font-semibold">单词管理</h2>
                            <div class="flex space-x-2">
                                <select id="category-filter" class="border rounded px-2 py-1">
                                    <option value="">选择词库分类...</option>
                                    <!-- 分类选项将在这里动态加载 -->
                                </select>
                                <div id="category-buttons" class="hidden flex flex-wrap gap-1 mr-2">
                                    <!-- 分类按钮将在这里动态加载 -->
                                </div>
                                <select id="page-size-select" class="border rounded px-2 py-1 hidden">
                                    <option value="50">50条/页</option>
                                    <option value="100" selected>100条/页</option>
                                    <option value="200">200条/页</option>
                                    <option value="500">500条/页</option>
                                </select>
                                <button id="clean-duplicates-btn" class="bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-1 px-3 rounded text-sm hidden">
                                    <i class="fas fa-broom mr-1"></i> 清理重复单词
                                </button>
                                <button id="clear-category-btn" class="bg-red-500 hover:bg-red-700 text-white font-bold py-1 px-3 rounded text-sm hidden">
                                    <i class="fas fa-trash-alt mr-1"></i> 清空分类单词
                                </button>
                                <button id="batch-delete-btn" class="bg-orange-500 hover:bg-orange-700 text-white font-bold py-1 px-3 rounded text-sm hidden">
                                    <i class="fas fa-trash mr-1"></i> 批量删除
                                </button>
                                <button id="import-words-btn" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-3 rounded text-sm hidden">
                                    <i class="fas fa-file-import mr-1"></i> 导入单词
                                </button>
                                <button id="add-word-btn" class="bg-green-500 hover:bg-green-700 text-white font-bold py-1 px-3 rounded text-sm">
                                    <i class="fas fa-plus mr-1"></i> 添加新单词
                                </button>
                            </div>
                        </div>
                        
                        <div class="overflow-x-auto">
                            <table class="min-w-full bg-white">
                                <thead class="bg-gray-100">
                                    <tr>
                                        <th class="py-2 px-4 border-b text-left">
                                            <input type="checkbox" id="select-all-words" class="batch-delete-checkbox hidden">
                                        </th>
                                        <th class="py-2 px-4 border-b text-left">英文</th>
                                        <th class="py-2 px-4 border-b text-left">音标</th>
                                        <th class="py-2 px-4 border-b text-left">词性</th>
                                        <th class="py-2 px-4 border-b text-left">中文释义</th>
                                        <th class="py-2 px-4 border-b text-left">所属分类</th>
                                        <th class="py-2 px-4 border-b text-left">操作</th>
                                    </tr>
                                </thead>
                                <tbody id="words-table-body">
                                    <!-- 单词数据将在这里动态加载 -->
                                    <tr>
                                        <td colspan="7" class="py-4 text-center text-gray-500">请选择一个词库分类</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <!-- 分页控件 -->
                        <div id="pagination-controls" class="mt-4 flex justify-between items-center hidden">
                            <div class="text-sm text-gray-600">
                                共 <span id="total-words">0</span> 个单词，当前显示第 <span id="current-page">1</span>/<span id="total-pages">1</span> 页
                            </div>
                            <div class="flex space-x-2">
                                <button id="first-page-btn" class="px-3 py-1 border rounded bg-gray-100 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed">首页</button>
                                <button id="prev-page-btn" class="px-3 py-1 border rounded bg-gray-100 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed">上一页</button>
                                <div class="flex items-center px-2">
                                    <span>跳转到</span>
                                    <input id="page-input" type="number" min="1" class="mx-1 w-16 border rounded px-2 py-1" value="1">
                                    <span>页</span>
                                    <button id="go-page-btn" class="ml-1 px-2 py-1 border rounded bg-blue-500 text-white hover:bg-blue-600">确定</button>
                                </div>
                                <button id="next-page-btn" class="px-3 py-1 border rounded bg-gray-100 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed">下一页</button>
                                <button id="last-page-btn" class="px-3 py-1 border rounded bg-gray-100 hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed">末页</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 故事主题模板管理内容 -->
                <div id="theme-templates-content" class="tab-content">
                    <div class="bg-white rounded-lg shadow p-6">
                        <div class="flex justify-between mb-5">
                            <h2 class="text-xl font-semibold">故事主题模板管理</h2>
                            <div class="flex space-x-2">
                                <button id="import-default-templates-btn" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-1 px-3 rounded text-sm">
                                    <i class="fas fa-download mr-1"></i> 导入默认模板
                                </button>
                                <button id="add-template-btn" class="bg-green-500 hover:bg-green-700 text-white font-bold py-1 px-3 rounded text-sm">
                                    <i class="fas fa-plus mr-1"></i> 添加新模板
                                </button>
                            </div>
                        </div>
                        
                        <div class="overflow-x-auto">
                            <table class="min-w-full bg-white">
                                <thead class="bg-gray-100">
                                    <tr>
                                        <th class="py-2 px-4 border-b text-left">ID</th>
                                        <th class="py-2 px-4 border-b text-left">名称</th>
                                        <th class="py-2 px-4 border-b text-left">描述</th>
                                        <th class="py-2 px-4 border-b text-left">状态</th>
                                        <th class="py-2 px-4 border-b text-left">操作</th>
                                    </tr>
                                </thead>
                                <tbody id="templates-table-body">
                                    <!-- 模板数据将在这里动态加载 -->
                                    <tr>
                                        <td colspan="5" class="py-4 text-center text-gray-500">加载中...</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- 数据导入内容 -->
                <div id="import-data-content" class="tab-content">
                    <div class="bg-white rounded-lg shadow p-6">
                        <h2 class="text-xl font-semibold mb-5">数据导入</h2>
                        <p class="text-gray-600 mb-3">点击下面的按钮，将从 `public/js/data/wordLists.js` 文件中导入所有预设词库到数据库。如果数据库中已存在，则会更新。</p>
                        <button id="import-btn" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
                            导入/更新词库数据
                        </button>
                        <div id="import-status" class="mt-3 text-sm"></div>
                        
                        <hr class="my-6 border-t border-gray-300">
                        
                        <h3 class="text-lg font-semibold mb-3">CSV文件导入</h3>
                        <p class="text-gray-600 mb-3">直接上传CSV文件导入大量词汇。CSV文件需包含以下列：英文单词,音标,中文释义（包含词性）</p>
                        <p class="text-gray-600 mb-3">系统会自动从中文释义中提取词性信息，例如："n. 能力 本领"中的"n."会被识别为名词词性</p>
                        <form id="csv-upload-form" class="mb-4" enctype="multipart/form-data" method="post" action="/api/import-csv">
                            <div class="mb-4">
                                <label class="block text-gray-700 text-sm font-bold mb-2" for="category-select">
                                    选择或创建词库分类
                                </label>
                                <div class="flex space-x-2">
                                    <select id="category-select" name="categoryId" class="border rounded px-2 py-1 w-1/2">
                                        <option value="">选择现有词库...</option>
                                        <!-- 分类选项将在这里动态加载 -->
                                    </select>
                                    <span class="text-gray-600 flex items-center">或</span>
                                    <input id="new-category-id" name="categoryId" class="border rounded px-2 py-1 w-1/4" placeholder="新分类ID" />
                                    <input id="new-category-name" name="categoryName" class="border rounded px-2 py-1 w-1/4" placeholder="新分类名称" />
                                    <input type="hidden" name="isNewCategory" id="is-new-category" value="false" />
                                </div>
                            </div>
                            <div class="mb-4">
                                <label class="block text-gray-700 text-sm font-bold mb-2" for="csv-file">
                                    选择CSV文件
                                </label>
                                <input type="file" id="csv-file" name="csvFile" accept=".csv" class="w-full" />
                            </div>
                            <button type="submit" class="bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded">
                                上传并导入
                            </button>
                        </form>
                        <div id="csv-import-status" class="text-sm"></div>
                    </div>
                </div>

                <!-- 系统设置内容 -->
                <div id="settings-content" class="tab-content">
                    <div class="bg-white rounded-lg shadow p-6">
                        <h2 class="text-xl font-semibold mb-5">系统设置</h2>
                        <p class="text-gray-600 mb-6">配置系统参数和API密钥</p>
                        
                        <div class="mb-6">
                            <h3 class="text-lg font-medium mb-3">API密钥配置</h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-gray-700 text-sm font-bold mb-2" for="gemini-api-key">
                                        Google Gemini API密钥
                                    </label>
                                    <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="gemini-api-key" type="password" placeholder="输入Gemini API密钥">
                                </div>
                                <div>
                                    <label class="block text-gray-700 text-sm font-bold mb-2" for="qwen-api-key">
                                        阿里云千问API密钥
                                    </label>
                                    <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="qwen-api-key" type="password" placeholder="输入千问API密钥">
                                </div>
                            </div>
                            <p class="text-xs text-gray-500 mt-2">注意：API密钥配置需要重启服务器才能生效</p>
                        </div>
                        
                        <div class="flex justify-end">
                            <button id="save-settings-btn" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
                                保存设置
                            </button>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- 添加分类模态框 -->
    <div id="category-modal" class="fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center hidden z-50">
        <div class="bg-white p-6 rounded-lg shadow-xl w-full max-w-md">
            <h3 class="text-lg font-semibold mb-4">添加新分类</h3>
            <form id="category-form">
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="category-id">
                        分类ID (英文标识符)
                    </label>
                    <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="category-id" type="text" placeholder="例如: cet6">
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="category-name">
                        分类名称
                    </label>
                    <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="category-name" type="text" placeholder="例如: 大学六级核心词汇">
                </div>
                <div class="mb-6">
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="category-description">
                        分类描述
                    </label>
                    <textarea class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="category-description" placeholder="例如: 大学英语六级考试常见核心词汇"></textarea>
                </div>
                <div class="flex items-center justify-between">
                    <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" type="submit">
                        保存
                    </button>
                    <button class="cancel-btn bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" type="button">
                        取消
                    </button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- 添加单词模态框 -->
    <div id="word-modal" class="fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center hidden z-50">
        <div class="bg-white p-6 rounded-lg shadow-xl w-full max-w-md">
            <h3 class="text-lg font-semibold mb-4">添加新单词</h3>
            <form id="word-form">
                <input type="hidden" id="word-id">
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="word-en">
                        英文单词
                    </label>
                    <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="word-en" type="text" placeholder="例如: abandon">
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="word-phonetic">
                        音标
                    </label>
                    <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="word-phonetic" type="text" placeholder="例如: /əˈbændən/">
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="word-pos">
                        词性
                    </label>
                    <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="word-pos" type="text" placeholder="例如: v.">
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="word-cn">
                        中文释义
                    </label>
                    <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="word-cn" type="text" placeholder="例如: 放弃；遗弃">
                </div>
                <div class="mb-6">
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="word-category">
                        所属分类
                    </label>
                    <select class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="word-category">
                        <option value="">选择词库分类...</option>
                        <!-- 分类选项将在这里动态加载 -->
                    </select>
                </div>
                <div class="flex items-center justify-between">
                    <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" type="submit">
                        保存
                    </button>
                    <button class="cancel-btn bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" type="button">
                        取消
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- 导入单词模态框 -->
    <div id="import-words-modal" class="fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center hidden z-50">
        <div class="bg-white p-6 rounded-lg shadow-xl w-full max-w-md">
            <h3 class="text-lg font-semibold mb-4">导入单词</h3>
            <form id="import-words-form">
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="import-category">
                        导入到分类
                    </label>
                    <select class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="import-category" disabled>
                        <option value="">当前选中的分类</option>
                    </select>
                    <p class="text-sm text-gray-500 mt-1">单词将导入到当前选中的分类中</p>
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="import-method">
                        导入方式
                    </label>
                    <div class="flex">
                        <label class="mr-4">
                            <input type="radio" name="import-method" value="csv" checked> CSV文件
                        </label>
                        <label>
                            <input type="radio" name="import-method" value="text"> 文本框
                        </label>
                    </div>
                </div>
                <div id="csv-import-section" class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="import-csv-file">
                        选择CSV文件
                    </label>
                    <input type="file" id="import-csv-file" name="csv-file" accept=".csv" class="w-full">
                    <p class="text-sm text-gray-500 mt-1">CSV格式：英文单词,音标,中文释义（包含词性）</p>
                </div>
                <div id="text-import-section" class="mb-4 hidden">
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="import-text">
                        输入单词数据
                    </label>
                    <textarea id="import-text" class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline h-40" placeholder="每行一个单词，格式：英文单词,音标,中文释义（包含词性）"></textarea>
                    <p class="text-sm text-gray-500 mt-1">例如：abandon,/əˈbændən/,v. 放弃；遗弃</p>
                </div>
                <div class="flex items-center justify-between">
                    <button id="import-submit-btn" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" type="button">
                        开始导入
                    </button>
                    <button class="cancel-btn bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" type="button">
                        取消
                    </button>
                </div>
                <div id="import-status" class="mt-3 text-sm"></div>
            </form>
        </div>
    </div>

    <!-- 添加主题模板模态框 -->
    <div id="template-modal" class="fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center hidden z-50">
        <div class="bg-white p-6 rounded-lg shadow-xl w-full max-w-2xl">
            <h3 class="text-lg font-semibold mb-4">添加/编辑故事主题模板</h3>
            <form id="template-form">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                    <div>
                        <label class="block text-gray-700 text-sm font-bold mb-2" for="template-id">
                            模板ID (英文标识符)
                        </label>
                        <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="template-id" type="text" placeholder="例如: scifi">
                    </div>
                    <div>
                        <label class="block text-gray-700 text-sm font-bold mb-2" for="template-name">
                            模板名称
                        </label>
                        <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="template-name" type="text" placeholder="例如: 科幻废土">
                    </div>
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="template-description">
                        模板描述
                    </label>
                    <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="template-description" type="text" placeholder="例如: 末世废土或星际文明世界的科幻故事">
                </div>
                <div class="mb-4">
                    <label class="block text-gray-700 text-sm font-bold mb-2" for="template-prompt">
                        提示词文本
                    </label>
                    <textarea class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline h-40" id="template-prompt" placeholder="输入完整的提示词文本..."></textarea>
                </div>
                <div class="mb-4">
                    <label class="flex items-center">
                        <input type="checkbox" id="template-active" class="mr-2" checked>
                        <span class="text-sm font-medium text-gray-700">启用该模板</span>
                    </label>
                </div>
                <div class="flex items-center justify-between">
                    <button class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" type="submit">
                        保存
                    </button>
                    <button class="cancel-template-btn bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" type="button">
                        取消
                    </button>
                </div>
            </form>
        </div>
    </div>

    <script src="js/admin.js"></script>
</body>
</html> 